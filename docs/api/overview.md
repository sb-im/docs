# API æ¦‚è§ˆ

è‰è“åˆ›æ–°æ— äººæœºè‡ªåŠ¨æœºåœºç³»ç»Ÿæä¾›å®Œæ•´çš„ RESTful APIï¼Œè®©æ‚¨å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼æ§åˆ¶å’Œç®¡ç†æ— äººæœºæœºåœºã€‚

## åŸºç¡€ä¿¡æ¯

- **API åŸºç¡€ URL**: `https://api.sb.im/v1`
- **åè®®**: HTTPS
- **æ•°æ®æ ¼å¼**: JSON
- **è®¤è¯æ–¹å¼**: API Key + JWT Token

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸš æ— äººæœºç®¡ç†

- æ— äººæœºæ³¨å†Œå’Œé…ç½®
- å®æ—¶çŠ¶æ€ç›‘æ§
- é£è¡Œæ§åˆ¶æŒ‡ä»¤
- ç”µæ± å’Œä¼ æ„Ÿå™¨æ•°æ®

### ğŸ  æœºåœºç®¡ç†

- æœºåœºçŠ¶æ€ç›‘æ§
- èµ·é™å¹³å°æ§åˆ¶
- å……ç”µç³»ç»Ÿç®¡ç†
- ç¯å¢ƒä¼ æ„Ÿå™¨æ•°æ®

### ğŸ“‹ ä»»åŠ¡ç®¡ç†

- ä»»åŠ¡åˆ›å»ºå’Œè°ƒåº¦
- èˆªç‚¹è§„åˆ’
- ä»»åŠ¡æ‰§è¡Œç›‘æ§
- ç»“æœæ•°æ®è·å–

### ğŸ“Š æ•°æ®åˆ†æ

- é£è¡Œæ•°æ®åˆ†æ
- æ€§èƒ½ç»Ÿè®¡
- å†å²è®°å½•æŸ¥è¯¢
- æŠ¥å‘Šç”Ÿæˆ

## å¿«é€Ÿå¼€å§‹

### 1. è·å– API å¯†é’¥

é¦–å…ˆéœ€è¦åœ¨æ§åˆ¶å°è·å–æ‚¨çš„ API å¯†é’¥ï¼š

```bash
curl -X POST https://api.sb.im/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "your@email.com",
    "password": "your_password"
  }'
```

### 2. è®¤è¯è¯·æ±‚

```bash
curl -X POST https://api.sb.im/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "your_api_key",
    "secret": "your_secret"
  }'
```

### 3. å‘èµ· API è°ƒç”¨

```bash
curl -X GET https://api.sb.im/v1/docks \
  -H "Authorization: Bearer your_jwt_token" \
  -H "Content-Type: application/json"
```

## ä¸»è¦ç«¯ç‚¹

### æœºåœºç®¡ç†

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/docks` | è·å–æœºåœºåˆ—è¡¨ |
| GET | `/docks/{id}` | è·å–æœºåœºè¯¦æƒ… |
| POST | `/docks` | åˆ›å»ºæ–°æœºåœº |
| PUT | `/docks/{id}` | æ›´æ–°æœºåœºä¿¡æ¯ |
| DELETE | `/docks/{id}` | åˆ é™¤æœºåœº |

### æ— äººæœºç®¡ç†

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/drones` | è·å–æ— äººæœºåˆ—è¡¨ |
| GET | `/drones/{id}` | è·å–æ— äººæœºè¯¦æƒ… |
| POST | `/drones/{id}/takeoff` | èµ·é£æŒ‡ä»¤ |
| POST | `/drones/{id}/land` | é™è½æŒ‡ä»¤ |
| POST | `/drones/{id}/return` | è¿”èˆªæŒ‡ä»¤ |

### ä»»åŠ¡ç®¡ç†

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/missions` | è·å–ä»»åŠ¡åˆ—è¡¨ |
| POST | `/missions` | åˆ›å»ºæ–°ä»»åŠ¡ |
| GET | `/missions/{id}` | è·å–ä»»åŠ¡è¯¦æƒ… |
| POST | `/missions/{id}/start` | å¼€å§‹æ‰§è¡Œä»»åŠ¡ |
| POST | `/missions/{id}/pause` | æš‚åœä»»åŠ¡ |
| POST | `/missions/{id}/stop` | åœæ­¢ä»»åŠ¡ |

## å“åº”æ ¼å¼

### æˆåŠŸå“åº”

```json
{
  "success": true,
  "data": {
    "id": "dock_001",
    "name": "ä¸»æœºåœº",
    "status": "online",
    "location": {
      "latitude": 39.9042,
      "longitude": 116.4074
    }
  },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

### é”™è¯¯å“åº”

```json
{
  "success": false,
  "error": {
    "code": "INVALID_REQUEST",
    "message": "è¯·æ±‚å‚æ•°æ— æ•ˆ",
    "details": "ç¼ºå°‘å¿…éœ€çš„å­—æ®µ: api_key"
  },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

## çŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 200 | è¯·æ±‚æˆåŠŸ |
| 201 | èµ„æºåˆ›å»ºæˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | è®¤è¯å¤±è´¥ |
| 403 | æƒé™ä¸è¶³ |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 429 | è¯·æ±‚é¢‘ç‡è¶…é™ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

## é™åˆ¶å’Œé…é¢

- **è¯·æ±‚é¢‘ç‡**: æ¯åˆ†é’Ÿæœ€å¤š 1000 æ¬¡è¯·æ±‚
- **æ•°æ®ä¼ è¾“**: æ¯æœˆæœ€å¤š 10GB
- **å¹¶å‘è¿æ¥**: æœ€å¤š 50 ä¸ªå¹¶å‘è¿æ¥
- **æ–‡ä»¶ä¸Šä¼ **: å•ä¸ªæ–‡ä»¶æœ€å¤§ 100MB

## SDK æ”¯æŒ

æˆ‘ä»¬æä¾›å¤šç§ç¼–ç¨‹è¯­è¨€çš„ SDKï¼š

- **Python**: `pip install sbim-sdk`
- **JavaScript**: `npm install @sbim/sdk`
- **Java**: Maven/Gradle ä¾èµ–
- **Go**: Go modules æ”¯æŒ

## ä¸‹ä¸€æ­¥

- äº†è§£ [èº«ä»½éªŒè¯](./authentication) è¯¦ç»†ä¿¡æ¯
- ç»§ç»­é˜…è¯»å…¶ä»–æ–‡æ¡£ç« èŠ‚
- å¼€å§‹ä½¿ç”¨ API è¿›è¡Œå¼€å‘
