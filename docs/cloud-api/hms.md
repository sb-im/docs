# HMS健康管理系统

HMS (Health Management System) 是SuperDock系列产品的健康管理系统，基于DJI上云API标准实现设备健康状态监控和告警功能。

## 概述

HMS系统通过MQTT协议实时推送设备健康告警信息，帮助开发者及时了解设备状态，预防故障发生，确保飞行安全。

## 功能特性

### 实时健康监控
- **设备状态监控** - 实时监控机场和无人机的健康状态
- **告警推送** - 自动推送健康告警信息到云端平台
- **状态分级** - 支持不同级别的告警信息（提示、警告、错误）

## 开发者注意事项

### 1. MQTT订阅参考DJI上云HMS
开发者需要正确配置MQTT订阅以接收HMS告警信息：
- **产品文档**: [DJI HMS官方文档](https://developer.dji.com/doc/cloud-api-tutorial/cn/feature-set/dock-feature-set/hms.html)
- **告警文案查询json文件**: [告警文案查询json文件](https://terra-1-g.djicdn.com/fee90c2e03e04e8da67ea6f56365fc76/SDK%20%E6%96%87%E6%A1%A3/CloudAPI/hms.json)

### 2. 告警信息处理
- **及时响应** - 收到告警信息后应及时处理，避免影响飞行安全
- **状态记录** - 建议记录所有告警信息，用于故障分析和预防
- **用户通知** - 重要告警应及时通知操作人员

### 3. 告警级别理解
- **0-提示** - 一般性提醒，不影响正常操作
- **1-警告** - 需要注意的状态，可能影响性能
- **2-错误** - 严重问题，需要立即处理

### 4. 数据格式
HMS告警数据采用标准JSON格式，包含告警码、级别、描述等信息。开发者需要正确解析这些数据。

## 常见问题 (QA)

### Q1： 执行任务返回错误码600001

**解决步骤**：
1. 系统上记录一下无人机的HMS信息
2. 在执行任务的时候监听一下无人机HMS信息
3. 一般情况执行任务返回600001是无人机和遥控器的问题,可以根据HMS相关信息进行排查,其一般已经知排查范围:
   1. 无人机是否展开机臂并且固定到位
   2. 遥控器档位是否在N档
   3. 绑定设备正在校验中或不匹配，临时起飞次数耗尽，请使用绑定遥控器或绑定当下遥控器
   4. 电池安装不到位

### Q2： 为什么无人机在机场的舱内提示HMS?

无人机在机场的舱内提示以下,可以忽略:

**包括且不限于**
1. `0x1F100031`: 无法起飞
2. `0x16100066`: RTK信号差
3. `0x1610008F`: 机载天线搜星异常
4. `0x1F0B0001`: 飞行器无法使用LTE链路
5. `0x1F0B003A`: 飞行器 DJI Cellular 模块无法访问网络
6. `0x1A420BC1`: 前视环境光过暗，前视视觉避障失效，请谨慎飞行
7. `0x1A420BC2`: 后视环境光过暗，后视视觉避障失效，请谨慎飞行
8. `0x1A420BC3`: 右视环境光过暗，右视视觉避障失效，请谨慎飞行
9. `0x1A420BC4`: 左视环境光过暗，左视视觉避障失效，请谨慎飞行
10. `0x1A420BC5`: 上视环境光过暗，上视视觉避障失效，请谨慎飞行
11. `0x1A420BC6`: 水平方向环境光过暗，水平方向视觉避障失效，请谨慎飞行

这些属于无人机在密闭环境的提示的HMS,基本排查可以执行任务是否确认无人机是否可以起飞.再根据Q1进行排查.

### Q3： 无人机在起飞前或飞行中需要注意那些HMS呢?

以下是历来客户所出现的相关的起飞前和飞行途中遇到异常情况的HMS,
**包括且不限于**

1. 风速过大，谨慎飞行
2. 低电量警报
3. 严重低电量警报
4. `0x16100020`: 飞控温度过高
5. `0x16100066`: RTK信号差
6. `0x1608005B`: 航线问题
7. `0x1D040001`: 云台异常振动
8. `0x1610009A`: 云台振动过大
9. `0x16100020`: 飞控温度过高
10. `0x1610004C`: 遥控器摇杆需要校准
11. `0x1F0B0001`: 飞行器无法使用LTE链路
12. `0x1F0B003A`: 飞行器 DJI Cellular 模块无法访问网络



### Q4：机场提示HMS应该怎么呢?

属于机场的异常情况的HMS都需要反馈到机场运维人员进行确认和维护.


## 技术支持

如需了解更多HMS功能的技术细节或遇到问题，请联系：

- **技术支持**: developer@sb.im
- **产品文档**: [DJI HMS官方文档](https://developer.dji.com/doc/cloud-api-tutorial/cn/feature-set/dock-feature-set/hms.html)
- **API概览**: [云端API概览](./overview)
- **设备认证**: [设备认证文档](./device-authentication)

---

**重要提醒**
1. HMS告警信息直接关系到飞行安全，请务必及时处理
2. 建议建立完善的告警处理流程和应急预案
3. 定期检查HMS系统的运行状态和配置
4. 重要告警建议设置多重通知机制
